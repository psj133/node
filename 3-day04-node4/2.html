<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>登录</title>
    <script src="node_modules/jquery/dist/jquery.js"></script>
</head>
<body>
    用户名:<input type="text" id="us"><br>
    密码:<input type="password" id="ps"><br>
    邮箱: <input type="text" id='mail'><button id='getNum'>获取验证码</button><br>
    验证码: <input type="text" id='num'><br>
    <button id="login">登录</button>
    <script>
        document.querySelector('#login').onclick=click;
        function click(){
            ajax();
        }
        function ajax(){
            var us=document.getElementById('us');
            var ps=document.getElementById('ps');
            var user=us.value;
            var password=ps.value;
            $.get(`http://10.9.48.165:1015/login?us=${user}&ps=${password}`,(res)=>{
                if(res.err===0){
                   alert(res.msg);
               }else{
                   alert(res.msg);
               }
            })
        }
        $('#getNum').click(function(){
            var txt=$('#mail').val();
            $.get('http://10.9.48.165:1015/mail?txt='+txt,function(res){
                console.log(res);
            })
        })
       $('#num').blur(function(){
            var num=$('#num').val();
            $.get('http://10.9.48.165:1015/rec?num='+num,function(res){
                if(res.err===0){
                    alert(res.msg);
                }else{
                    alert(res.msg);
                }
            })
       })
    </script>
</body>
</html>